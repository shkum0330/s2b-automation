<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>S2B 결제</title>
    <script src="https://js.tosspayments.com/v2/payment-widget"></script>
  </head>
  <body>
    <div id="payment-widget"></div>

    <script>
      // Python으로부터 이 함수를 호출받을 예정
      function startPayment(clientKey, orderId, orderName, amount) {

        const paymentWidget = PaymentWidget(clientKey);

        // 1. 결제위젯 렌더링
        paymentWidget.renderPaymentMethods(
          "#payment-widget",
          { value: amount },
          { variantKey: "DEFAULT" }
        );

        // 2. 결제창 띄우기
        paymentWidget.requestPayment({
          orderId: orderId,
          orderName: orderName,
          successUrl: "http://localhost:8080/api/v1/payments/success",
          failUrl: "http://localhost:8080/api/v1/payments/fail",
        });
      }
    </script>
  </body>
</html>